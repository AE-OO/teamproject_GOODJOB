<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
</head>
<body>
<h1 class="mt-4">수정 페이지</h1>
<form action="/post/modify" id="modify-form" method="post">
    <input type="hidden" name="page" th:value="${pageRequestDTO.page}">
    <input type="hidden" name="id" th:value="${dto.id}">
    <div class="form-group">
        <label>직종</label>
        <div class="input-group-pretend">
            <select class="custom-select" name="occId">
                <th:block th:each="occ :${occList}">
                    <option th:value="${occ.occId}" th:selected="${occ.occId == dto.occId}"> [[${occ.occName}]]</option>
                </th:block>
            </select>
        </div>
    </div>


    <div class="form-group">
        <label>제목</label>
        <input type="text" class="form-control" name="title"
               th:value="${dto.title}">
    </div>
    <div class="form-group">
        <label>내용</label>
        <textarea class="form-control" name="content" >[[${dto.content}]]</textarea>
    </div>
    <div class="form-group">
        <label>모집인원</label>
        <input type="text" class="form-control" name="recruitNum"
               th:value="${dto.recruitNum}">
    </div>
    <div class="form-group">
        <label>시작일자</label>
        <input type="date" class="form-control" name="startDate"
               th:value="${dto.startDate}">
    </div>
    <div class="form-group">
        <label>종료일자</label>
        <input type="text" class="form-control" name="endDate"
               th:value="${dto.endDate}">
    </div>
    <div class="form-group">
        <label>모집성별</label>
        <input type="text" class="form-control" name="gender"
               th:value="${dto.gender}">
    </div>
</form>

<div class="btn-group">
    <button type="button" class="btn btn-primary modify-btn">수정</button>
    <button type="button" class="btn btn-primary list-btn">목록</button>
    <button type="button" class="btn btn-primary remove-btn">삭제</button>
</div>
<script th:inline="javascript">
    var actionForm = $("form");
    $(".remove-btn").click(function (){
        actionForm.attr("action","/post/remove").attr("method","post")
        actionForm.submit();
    })
    $(".list-btn").click(function (){
        var pageInfo = $("input[name='page']");
        actionForm.empty();
        actionForm.append(pageInfo);
        actionForm.attr("action","/post/list").attr("method","get")
        console.log(actionForm.html());
        actionForm.submit();
    })
    $(".modify-btn").click(function (){
        if(!confirm("수정하시겠습니까?")){
            return ;
        }
        actionForm.attr("action","/post/modify").attr("method","post")
        actionForm.submit();
    })
</script>
</body>
</html>